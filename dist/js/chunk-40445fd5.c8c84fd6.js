(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40445fd5"],{"057f":function(t,e,r){var o=r("fc6a"),a=r("241c").f,i={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return a(t)}catch(e){return n.slice()}};t.exports.f=function(t){return n&&"[object Window]"==i.call(t)?l(t):a(o(t))}},"159b":function(t,e,r){var o=r("da84"),a=r("fdbc"),i=r("17c2"),n=r("9112");for(var l in a){var s=o[l],c=s&&s.prototype;if(c&&c.forEach!==i)try{n(c,"forEach",i)}catch(d){c.forEach=i}}},"17c2":function(t,e,r){"use strict";var o=r("b727").forEach,a=r("a640"),i=r("ae40"),n=a("forEach"),l=i("forEach");t.exports=n&&l?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,r){"use strict";var o=r("23e7"),a=r("17c2");o({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4de4":function(t,e,r){"use strict";var o=r("23e7"),a=r("b727").filter,i=r("1dde"),n=r("ae40"),l=i("filter"),s=n("filter");o({target:"Array",proto:!0,forced:!l||!s},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"746f":function(t,e,r){var o=r("428f"),a=r("5135"),i=r("e538"),n=r("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});a(e,t)||n(e,t,{value:i.f(t)})}},a434:function(t,e,r){"use strict";var o=r("23e7"),a=r("23cb"),i=r("a691"),n=r("50c4"),l=r("7b0b"),s=r("65f0"),c=r("8418"),d=r("1dde"),u=r("ae40"),p=d("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,_=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!p||!f},{splice:function(t,e){var r,o,d,u,p,f,g=l(this),h=n(g.length),y=a(t,h),C=arguments.length;if(0===C?r=o=0:1===C?(r=0,o=h-y):(r=C-2,o=_(m(i(e),0),h-y)),h+r-o>b)throw TypeError(v);for(d=s(g,o),u=0;u<o;u++)p=y+u,p in g&&c(d,u,g[p]);if(d.length=o,r<o){for(u=y;u<h-o;u++)p=u+o,f=u+r,p in g?g[f]=g[p]:delete g[f];for(u=h;u>h-o+r;u--)delete g[u-1]}else if(r>o)for(u=h-o;u>y;u--)p=u+o-1,f=u+r-1,p in g?g[f]=g[p]:delete g[f];for(u=0;u<r;u++)g[u+y]=arguments[u+2];return g.length=h-o+r,d}})},a4d3:function(t,e,r){"use strict";var o=r("23e7"),a=r("da84"),i=r("d066"),n=r("c430"),l=r("83ab"),s=r("4930"),c=r("fdbf"),d=r("d039"),u=r("5135"),p=r("e8b5"),f=r("861d"),m=r("825a"),_=r("7b0b"),b=r("fc6a"),v=r("c04e"),g=r("5c6c"),h=r("7c73"),y=r("df75"),C=r("241c"),w=r("057f"),O=r("7418"),S=r("06cf"),k=r("9bf2"),A=r("d1e7"),P=r("9112"),x=r("6eeb"),T=r("5692"),j=r("f772"),L=r("d012"),E=r("90e3"),D=r("b622"),M=r("e538"),$=r("746f"),N=r("d44e"),I=r("69f3"),V=r("b727").forEach,R=j("hidden"),z="Symbol",F="prototype",G=D("toPrimitive"),H=I.set,J=I.getterFor(z),q=Object[F],B=a.Symbol,Q=i("JSON","stringify"),U=S.f,W=k.f,K=w.f,X=A.f,Y=T("symbols"),Z=T("op-symbols"),tt=T("string-to-symbol-registry"),et=T("symbol-to-string-registry"),rt=T("wks"),ot=a.QObject,at=!ot||!ot[F]||!ot[F].findChild,it=l&&d((function(){return 7!=h(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,r){var o=U(q,e);o&&delete q[e],W(t,e,r),o&&t!==q&&W(q,e,o)}:W,nt=function(t,e){var r=Y[t]=h(B[F]);return H(r,{type:z,tag:t,description:e}),l||(r.description=e),r},lt=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof B},st=function(t,e,r){t===q&&st(Z,e,r),m(t);var o=v(e,!0);return m(r),u(Y,o)?(r.enumerable?(u(t,R)&&t[R][o]&&(t[R][o]=!1),r=h(r,{enumerable:g(0,!1)})):(u(t,R)||W(t,R,g(1,{})),t[R][o]=!0),it(t,o,r)):W(t,o,r)},ct=function(t,e){m(t);var r=b(e),o=y(r).concat(mt(r));return V(o,(function(e){l&&!ut.call(r,e)||st(t,e,r[e])})),t},dt=function(t,e){return void 0===e?h(t):ct(h(t),e)},ut=function(t){var e=v(t,!0),r=X.call(this,e);return!(this===q&&u(Y,e)&&!u(Z,e))&&(!(r||!u(this,e)||!u(Y,e)||u(this,R)&&this[R][e])||r)},pt=function(t,e){var r=b(t),o=v(e,!0);if(r!==q||!u(Y,o)||u(Z,o)){var a=U(r,o);return!a||!u(Y,o)||u(r,R)&&r[R][o]||(a.enumerable=!0),a}},ft=function(t){var e=K(b(t)),r=[];return V(e,(function(t){u(Y,t)||u(L,t)||r.push(t)})),r},mt=function(t){var e=t===q,r=K(e?Z:b(t)),o=[];return V(r,(function(t){!u(Y,t)||e&&!u(q,t)||o.push(Y[t])})),o};if(s||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=E(t),r=function(t){this===q&&r.call(Z,t),u(this,R)&&u(this[R],e)&&(this[R][e]=!1),it(this,e,g(1,t))};return l&&at&&it(q,e,{configurable:!0,set:r}),nt(e,t)},x(B[F],"toString",(function(){return J(this).tag})),x(B,"withoutSetter",(function(t){return nt(E(t),t)})),A.f=ut,k.f=st,S.f=pt,C.f=w.f=ft,O.f=mt,M.f=function(t){return nt(D(t),t)},l&&(W(B[F],"description",{configurable:!0,get:function(){return J(this).description}}),n||x(q,"propertyIsEnumerable",ut,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:B}),V(y(rt),(function(t){$(t)})),o({target:z,stat:!0,forced:!s},{for:function(t){var e=String(t);if(u(tt,e))return tt[e];var r=B(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!lt(t))throw TypeError(t+" is not a symbol");if(u(et,t))return et[t]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!l},{create:dt,defineProperty:st,defineProperties:ct,getOwnPropertyDescriptor:pt}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:mt}),o({target:"Object",stat:!0,forced:d((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(_(t))}}),Q){var _t=!s||d((function(){var t=B();return"[null]"!=Q([t])||"{}"!=Q({a:t})||"{}"!=Q(Object(t))}));o({target:"JSON",stat:!0,forced:_t},{stringify:function(t,e,r){var o,a=[t],i=1;while(arguments.length>i)a.push(arguments[i++]);if(o=e,(f(e)||void 0!==t)&&!lt(t))return p(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!lt(e))return e}),a[1]=e,Q.apply(null,a)}})}B[F][G]||P(B[F],G,B[F].valueOf),N(B,z),L[R]=!0},ad92:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Inicio")]),r("el-breadcrumb-item",{attrs:{to:{path:"/tienda"}}},[t._v("Administración Tienda")]),r("el-breadcrumb-item",{attrs:{to:{path:"/tienda/compras"}}},[t._v("Compras")]),r("el-breadcrumb-item",{attrs:{to:{path:"/tienda/compras/editar"}}},[t._v("Crear Orden de Compra")])],1),r("br"),r("el-card",[r("div",{staticClass:"contenido"},[r("div",{staticClass:"row m-0 p-0 justify-content-center"},[r("div",{staticClass:"col-md-6 mb-3"},[r("label",[t._v("Proveedor")]),r("el-select",{staticClass:"w-100",attrs:{placeholder:"Proveedor",loading:"Loading"==t.getAllProveedores},model:{value:t.item.proveedor_id,callback:function(e){t.$set(t.item,"proveedor_id",e)},expression:"item.proveedor_id"}},t._l(t.getAllProveedores,(function(t){return r("el-option",{key:t.proveedor_id,attrs:{label:t.proveedor_razon_social,value:t.proveedor_id}})})),1)],1),r("div",{staticClass:"col-md-6 mb-3"},[r("label",[t._v("Artículo")]),r("el-select",{staticClass:"w-100",attrs:{placeholder:"Nombre del Artículo",loading:"Loading"==t.getAllArticulos},model:{value:t.item.stock_id,callback:function(e){t.$set(t.item,"stock_id",e)},expression:"item.stock_id"}},t._l(t.getAllArticulos,(function(t){return r("el-option",{key:t.stock_id,attrs:{label:t.articulos_nombres,value:t.stock_id}})})),1)],1)]),r("div",{staticClass:"row m-0 p-0 justify-content-center"},[r("div",{staticClass:"col-md-6 mb-3"},[r("label",[t._v("Cantidad")]),r("el-input",{attrs:{type:"number",placeholder:"Cantidad de artículo",min:"1","prefix-icon":"el-icon-sell"},model:{value:t.item.compras_detalle_cantidad,callback:function(e){t.$set(t.item,"compras_detalle_cantidad",e)},expression:"item.compras_detalle_cantidad"}})],1),r("div",{staticClass:"col-md-6 mb-3"},[r("label",[t._v("Precio Unidad")]),r("el-input",{attrs:{type:"number",placeholder:"Precio del artículo",min:"0",step:"0.01","prefix-icon":"el-icon-money"},model:{value:t.item.compras_detalles_preciobase,callback:function(e){t.$set(t.item,"compras_detalles_preciobase",e)},expression:"item.compras_detalles_preciobase"}})],1)]),r("div",{staticClass:"row m-0 p-0 justify-content-center"},[r("div",{staticClass:"col-md-6 mb-3"},[r("label",[t._v("Precio a la venta")]),r("el-input",{attrs:{type:"number",placeholder:"Precio de venta",min:"0",step:"0.01","prefix-icon":"el-icon-money"},model:{value:t.item.montoDestino,callback:function(e){t.$set(t.item,"montoDestino",e)},expression:"item.montoDestino"}})],1),r("div",{staticClass:"col-md-3 pt-4 mb-3"},[r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.uploading,expression:"uploading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn-primario mt-2",attrs:{round:""},on:{click:function(e){return t.AddToCart(t.item)}}},[t._v("Agregar Item a la Lista")])],1)])])]),r("br"),t.detalleCompra.length?r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Lista de Items a comprar")])]),r("el-table",{staticClass:"w-100",attrs:{data:t.detalleCompra}},[r("el-table-column",{attrs:{prop:"articulos_nombres",label:"Nombre del Artículo",width:"200"}}),r("el-table-column",{attrs:{prop:"compras_detalle_cantidad",label:"Cantidad",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{},[r("el-button-group",{attrs:{size:"mini"}},[r("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",round:"",plain:""},on:{click:function(r){return t.ResItem(e.row)}}}),r("el-button",{attrs:{size:"mini",icon:"el-icon-sell",round:"",plain:"",disabled:""}},[t._v(t._s(e.row.compras_detalle_cantidad))]),r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",round:"",plain:""},on:{click:function(r){return t.SumItem(e.row)}}})],1)],1)]}}],null,!1,3507071456)}),r("el-table-column",{attrs:{prop:"compras_detalles_preciobase",label:"Precio",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"text-primary"},[t._v(" "+t._s(t.parseMoneda(e.row.compras_detalles_preciobase))+" ")])]}}],null,!1,1265781143)}),r("el-table-column",{attrs:{prop:"compras_detalles_total",label:"Total",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"text-primary"},[t._v(" "+t._s(t.parseMoneda(e.row.compras_detalles_total))+" ")])]}}],null,!1,345937506)}),r("el-table-column",{attrs:{prop:"montoDestino",label:"Monto de Venta",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"text-primary"},[t._v(" "+t._s(t.parseMoneda(e.row.montoDestino))+" ")])]}}],null,!1,3832642506)}),r("el-table-column",{attrs:{fixed:"right",label:"Operaciones",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),t.DelToCart(e.$index)}}},[t._v(" Eliminar ")])]}}],null,!1,3944217374)})],1),r("el-divider"),r("div",{staticClass:"d-flex flex-wrap justify-content-end p-1"},[r("div",{staticClass:"align-self-center mx-2"},[r("h4",[r("small",{staticClass:"text-muted"},[t._v("SubTotal: "+t._s(t.parseMoneda(t.getTotal)))])]),r("h4",[r("small",{staticClass:"text-muted"},[t._v("IVA ("+t._s(t.getgetAppConfig.config_iva)+"%): "+t._s(t.parseMoneda(t.getTotal*(.01*t.getgetAppConfig.config_iva))))])]),r("h4",[r("small",{staticClass:"text-muted"},[t._v("Total: "+t._s(t.parseMoneda(t.getTotal*(.01*t.getgetAppConfig.config_iva)+t.getTotal)))])])])]),r("el-divider"),r("div",{staticClass:"d-flex justify-content-center"},[r("el-button",{staticClass:"btn-primario",on:{click:function(e){t.enviarCarrito(t.getTotal*(.01*t.getgetAppConfig.config_iva)+t.getTotal,t.getTotal,t.getgetAppConfig.config_iva)}}},[t._v("Procesar Orden de Venta")])],1)],1):t._e()],1)},a=[];r("4160"),r("a434"),r("159b"),r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b");function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var s={metaInfo:{titleTemplate:"%s | Nueva Orden de Compra"},data:function(){return{compra:{compras_id:0,personas_id:null,status_id:null,compras_created:null,compras_iva:null,compras_subtotal:null,compras_total:null},detalleCompra:[],item:{compras_detalles_id:0,compras_id:null,proveedor_id:null,stock_id:null,compras_detalle_cantidad:1,compras_detalles_preciobase:0,compras_detalles_total:0,montoDestino:0,articulos_nombres:null},uploading:!1}},methods:{AddToCart:function(t){var e=this;this.getAllArticulos.forEach((function(r){if(r.stock_id==t.stock_id){var o={compras_detalles_id:0,compras_id:0,proveedor_id:t.proveedor_id,stock_id:r.stock_id,compras_detalle_cantidad:t.compras_detalle_cantidad,compras_detalles_preciobase:parseFloat(t.compras_detalles_preciobase),compras_detalles_total:parseFloat(t.compras_detalles_preciobase)*t.compras_detalle_cantidad,montoDestino:t.montoDestino,articulos_nombres:r.articulos_nombres};e.detalleCompra.push(Object.assign({},o))}})),this.item={compras_detalles_id:0,compras_id:null,proveedor_id:null,stock_id:null,compras_detalle_cantidad:1,compras_detalles_preciobase:0,compras_detalles_total:0,montoDestino:0}},DelToCart:function(t){this.detalleCompra.splice(t,1)},SumItem:function(t){t.compras_detalle_cantidad=t.compras_detalle_cantidad+1,t.compras_detalles_total=t.compras_detalle_cantidad*t.compras_detalles_preciobase},ResItem:function(t){t.compras_detalle_cantidad>1&&(t.compras_detalle_cantidad=t.compras_detalle_cantidad-1),t.compras_detalles_total=t.compras_detalle_cantidad*t.compras_detalles_preciobase},enviarCarrito:function(t,e,r){var o=this;this.uploading=!0,this.compra.compras_iva=r,this.compra.compras_subtotal=e,this.compra.compras_total=t,this.axios({method:"POST",url:"/compra",data:l({},this.compra,{items:this.detalleCompra})}).then((function(){o.$notify({title:"Registro Exitoso!",message:"La orden de compra se realizo correctamente!",type:"success"}),o.compra={compras_id:0,personas_id:null,status_id:null,compras_created:null,compras_iva:null,compras_subtotal:null,compras_total:null},o.detalleCompra=[],o.$store.dispatch("startupEscencial"),o.$store.dispatch("startupAdmin"),o.uploading=!1})).catch((function(t){t.response?(o.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"info"}),console.log(t.response.data.message)):o.$notify({title:"Error",message:"No tienes internet",type:"error"}),o.uploading=!1}))},parseMoneda:function(t){var e=parseFloat(t||0);return e?e.toLocaleString("es-VE")+" Bs.":"Gratis"}},computed:{getAllArticulos:function(){return this.$store.getters.getAllArticulos},getAllProveedores:function(){return this.$store.getters.getAllProveedores},getgetAppConfig:function(){return this.$store.getters.getgetAppConfig},getTotal:function(){var t=0;return this.detalleCompra.length&&this.detalleCompra.forEach((function(e){t+=e.compras_detalles_total})),t}}},c=s,d=r("2877"),u=Object(d["a"])(c,o,a,!1,null,null,null);e["default"]=u.exports},b64b:function(t,e,r){var o=r("23e7"),a=r("7b0b"),i=r("df75"),n=r("d039"),l=n((function(){i(1)}));o({target:"Object",stat:!0,forced:l},{keys:function(t){return i(a(t))}})},dbb4:function(t,e,r){var o=r("23e7"),a=r("83ab"),i=r("56ef"),n=r("fc6a"),l=r("06cf"),s=r("8418");o({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,r,o=n(t),a=l.f,c=i(o),d={},u=0;while(c.length>u)r=a(o,e=c[u++]),void 0!==r&&s(d,e,r);return d}})},e439:function(t,e,r){var o=r("23e7"),a=r("d039"),i=r("fc6a"),n=r("06cf").f,l=r("83ab"),s=a((function(){n(1)})),c=!l||s;o({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(t,e){return n(i(t),e)}})},e538:function(t,e,r){var o=r("b622");e.f=o},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-40445fd5.c8c84fd6.js.map