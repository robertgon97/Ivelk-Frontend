(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2109ea"],{b952:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a._v("Inicio")]),e("el-breadcrumb-item",{attrs:{to:{path:"/tienda"}}},[a._v("Administración Tienda")]),e("el-breadcrumb-item",{attrs:{to:{path:"/tienda/articulos"}}},[a._v("Artículos")]),e("el-breadcrumb-item",{attrs:{to:{path:"/tienda/articulos/marcas"}}},[a._v("Marcas")])],1),e("br"),e("el-card",{staticClass:"mb-3"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"el-icon-plus"}),e("span",[a._v(" Agregar Marca")])]),e("div",{staticClass:"contenido"},[e("form",{on:{submit:function(t){return t.preventDefault(),a.addStatus(t)}}},[e("div",{staticClass:"row m-0 p-0 justify-content-center"},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",[a._v("Nombre")]),e("el-input",{attrs:{type:"text",placeholder:"Nombre",clearable:""},model:{value:a.article.articulo_marcas_nombre,callback:function(t){a.$set(a.article,"articulo_marcas_nombre",t)},expression:"article.articulo_marcas_nombre"}})],1),e("div",{staticClass:"col-md-6 mb-3"},[e("label",[a._v("Descripción")]),e("el-input",{attrs:{type:"text",placeholder:"Descripción",clearable:""},model:{value:a.article.articulo_marcas_descripcion,callback:function(t){a.$set(a.article,"articulo_marcas_descripcion",t)},expression:"article.articulo_marcas_descripcion"}})],1)]),e("div",{staticClass:"row m-0 p-0 justify-content-center"},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",{attrs:{for:"articulo_marcas_imagen"}},[a._v("Imagen")]),e("input",{staticClass:"form-control",attrs:{type:"file",name:"articulo_marcas_imagen",id:"articulo_marcas_imagen",placeholder:"Selecciona tu imagen",accept:"image/*"},on:{change:a.updateImage}})])]),e("div",{staticClass:"row m-0 p-0 justify-content-center"},[e("div",{staticClass:"col-md-5 mb-3 pt-4 text-center"},[e("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:a.uploading,expression:"uploading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn-primario mt-2",attrs:{round:""},on:{click:a.addStatus}},[a._v("Agregar Marca")])],1)])])]),e("div",{staticClass:"clearfix text-center"},[e("p",{staticClass:"m-0 p-0"},[e("small",[a._v("Todos los campos son obligatorios")])])])]),a.getAllMarcas&&"Loading"==a.getAllMarcas?e("div",[e("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:!0,expression:"true",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"text"}})],1):a.getAllMarcas&&a.getAllMarcas.length?e("el-card",{staticClass:"mb-3"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"el-icon-finished"}),e("span",[a._v(" Lista de Marcas")])]),e("div",{staticClass:"contenido"},[e("el-table",{attrs:{data:a.getAllMarcas}},[e("el-table-column",{attrs:{fixed:"",width:"50",prop:"articulo_marcas_id",label:"#"}}),e("el-table-column",{attrs:{prop:"articulo_marcas_nombre",label:"Nombre"}}),e("el-table-column",{attrs:{prop:"articulo_marcas_descripcion",label:"Descripcion"}}),e("el-table-column",{attrs:{fixed:"",label:"Imagen",width:"150"},scopedSlots:a._u([{key:"default",fn:function(a){return[e("div",{staticClass:"demo-basic--circle"},[e("div",{staticClass:"block"},[e("el-avatar",{attrs:{shape:"square",size:"medium",src:a.row.articulo_marcas_imagen||"/noimage.png"}})],1)])]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"Operaciones",width:"150"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{staticClass:"text-primary",attrs:{type:"text",size:"small",icon:"el-icon-edit"}},[a._v("Editar")]),e("el-button",{staticClass:"text-danger",attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(e){return a.eliminar(t.row)}}},[a._v("Eliminar")])]}}])})],1),e("el-divider"),e("div",[e("div",{staticClass:"d-flex justify-content-center"},[e("p",{staticClass:"m-0 p-0"},[e("small",[a._v("Mostrando "+a._s(a.getAllMarcas.length)+" Registros")])])])])],1)]):e("div",{staticClass:"d-flex my-5 justify-content-center"},[a._m(0)])],1)},i=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"col-10 my-5"},[e("h1",{staticClass:"display-3 text-center"},[e("i",{staticClass:"el-icon-s-custom"})]),e("div",{staticClass:"text-center"},[e("h3",[a._v("No hay estatus registrados")])])])}],r=(e("b0c0"),e("b85c")),c={metaInfo:{titleTemplate:"%s | Gestión de Marcas"},data:function(){return{uploading:!1,formData:new FormData,article:{articulo_marcas_id:0,articulo_marcas_nombre:null,articulo_marcas_descripcion:null}}},methods:{addStatus:function(){var a=this;this.uploading=!0,this.formData.delete("articulo_marcas_id"),this.formData.append("articulo_marcas_id",this.article.articulo_marcas_id),this.formData.delete("articulo_marcas_nombre"),this.formData.append("articulo_marcas_nombre",this.article.articulo_marcas_nombre),this.formData.delete("articulo_marcas_descripcion"),this.formData.append("articulo_marcas_descripcion",this.article.articulo_marcas_descripcion),this.axios({method:"POST",url:"/marcas",data:this.formData}).then((function(){a.$notify({title:"Registro Exitoso!",message:"La marca se agregó correctamente!",type:"success"}),a.$store.dispatch("startupEscencial"),a.$store.dispatch("startupAdmin"),a.article={articulo_marcas_id:0,articulo_marcas_nombre:null,articulo_marcas_descripcion:null},a.uploading=!1})).catch((function(t){t.response?(a.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"info"}),console.log(t.response.data.message)):a.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"error"}),a.uploading=!1}))},updateImage:function(a){var t=a.target.files;if(this.formData.delete("articulo_marcas_imagen"),t.length){var e,s=Object(r["a"])(t);try{for(s.s();!(e=s.n()).done;){var i=e.value;this.formData.append("articulo_marcas_imagen",i,i.name)}}catch(c){s.e(c)}finally{s.f()}}},eliminar:function(a){var t=this;this.$confirm("Deseas eliminar esta marca?","Estás Seguro de esto?",{confirmButtonText:"OK",cancelButtonText:"Cancelar",type:"warning"}).then((function(){t.uploading=!0,t.axios({method:"DELETE",url:"/marcas",data:{articulo_marcas_id:a.articulo_marcas_id,articulo_marcas_nombre:a.articulo_marcas_nombre,articulo_marcas_descripcion:a.articulo_marcas_descripcion,articulo_marcas_imagen:a.articulo_marcas_imagen||"aa"}}).then((function(){t.$notify({title:"Eliinación Exitosa!",message:"La marca ".concat(a.articulo_marcas_nombre," se eliminó correctamente!"),type:"success"}),t.$store.dispatch("startupEscencial"),t.$store.dispatch("startupAdmin"),t.uploading=!1})).catch((function(a){a.response?(t.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"info"}),console.log(a.response.data.message)):t.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"error"}),t.uploading=!1}))})).catch((function(){t.$message({type:"info",message:"Uff... cancelado"})}))}},computed:{getAllMarcas:function(){return this.$store.getters.getAllMarcas}}},o=c,l=e("2877"),n=Object(l["a"])(o,s,i,!1,null,null,null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d2109ea.3ea9aa8a.js.map