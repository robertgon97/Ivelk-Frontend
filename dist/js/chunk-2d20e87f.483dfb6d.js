(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20e87f"],{b083:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("Inicio")]),a("el-breadcrumb-item",{attrs:{to:{path:"/tienda"}}},[t._v("Administración Tienda")]),a("el-breadcrumb-item",{attrs:{to:{path:"/tienda/articulos"}}},[t._v("Artículos")]),a("el-breadcrumb-item",{attrs:{to:{path:"/tienda/articulos/categoria"}}},[t._v("Lista de Categorías")])],1),a("br"),a("el-card",{staticClass:"mb-3"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"el-icon-plus"}),a("span",[t._v(" Agregar Categoría")])]),a("div",{staticClass:"contenido"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addStatus(e)}}},[a("div",{staticClass:"row m-0 p-0 justify-content-center"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",[t._v("Nombre")]),a("el-input",{attrs:{type:"text",placeholder:"Nombre",clearable:""},model:{value:t.article.articulo_tipo_nombre,callback:function(e){t.$set(t.article,"articulo_tipo_nombre",e)},expression:"article.articulo_tipo_nombre"}})],1),a("div",{staticClass:"col-md-6 mb-3"},[a("label",[t._v("Descripción")]),a("el-input",{attrs:{type:"text",placeholder:"Descripción",clearable:""},model:{value:t.article.articulo_tipo_descripcion,callback:function(e){t.$set(t.article,"articulo_tipo_descripcion",e)},expression:"article.articulo_tipo_descripcion"}})],1)]),a("div",{staticClass:"row m-0 p-0 justify-content-center"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"articulo_imagen"}},[t._v("Imagen")]),a("input",{staticClass:"form-control",attrs:{type:"file",name:"articulo_imagen",id:"articulo_imagen",placeholder:"Selecciona tu imagen",accept:"image/*"},on:{change:t.updateImage}})])]),a("div",{staticClass:"row m-0 p-0 justify-content-center"},[a("div",{staticClass:"col-md-5 mb-3 pt-4 text-center"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.uploading,expression:"uploading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn-primario mt-2",attrs:{round:""},on:{click:t.addStatus}},[t._v("Agregar Categoría")])],1)])])]),a("div",{staticClass:"clearfix text-center"},[a("p",{staticClass:"m-0 p-0"},[a("small",[t._v("Todos los campos son obligatorios")])])])]),t.getAllCategoria&&"Loading"==t.getAllCategoria?a("div",[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:!0,expression:"true",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"text"}})],1):t.getAllCategoria&&t.getAllCategoria.length?a("el-card",{staticClass:"mb-3"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"el-icon-finished"}),a("span",[t._v(" Lista de Categorías")])]),a("div",{staticClass:"contenido"},[a("el-table",{attrs:{data:t.getAllCategoria}},[a("el-table-column",{attrs:{fixed:"",width:"50",prop:"articulo_tipo_id",label:"#"}}),a("el-table-column",{attrs:{prop:"articulo_tipo_nombre",label:"Nombre"}}),a("el-table-column",{attrs:{prop:"articulo_tipo_descripcion",label:"Descripcion"}}),a("el-table-column",{attrs:{fixed:"",label:"Imagen",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"demo-basic--circle"},[a("div",{staticClass:"block"},[a("el-avatar",{attrs:{shape:"square",size:"medium",src:t.row.articulo_imagen||"/noimage.png"}})],1)])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"Operaciones",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"text-primary",attrs:{type:"text",size:"small",icon:"el-icon-edit"}},[t._v("Editar")]),a("el-button",{staticClass:"text-danger",attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return t.eliminar(e.row)}}},[t._v("Eliminar")])]}}])})],1),a("el-divider"),a("div",[a("div",{staticClass:"d-flex justify-content-center"},[a("p",{staticClass:"m-0 p-0"},[a("small",[t._v("Mostrando "+t._s(t.getAllCategoria.length)+" Registros")])])])])],1)]):a("div",{staticClass:"d-flex my-5 justify-content-center"},[t._m(0)])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-10 my-5"},[a("h1",{staticClass:"display-3 text-center"},[a("i",{staticClass:"el-icon-s-custom"})]),a("div",{staticClass:"text-center"},[a("h3",[t._v("No hay estatus registrados")])])])}],s=(a("b0c0"),a("b85c")),r={metaInfo:{titleTemplate:"%s | Gestión de Categorías"},data:function(){return{uploading:!1,formData:new FormData,article:{articulo_tipo_id:0,articulo_tipo_nombre:null,articulo_tipo_descripcion:null}}},methods:{addStatus:function(){var t=this;this.uploading=!0,this.formData.delete("articulo_tipo_id"),this.formData.append("articulo_tipo_id",this.article.articulo_tipo_id),this.formData.delete("articulo_tipo_nombre"),this.formData.append("articulo_tipo_nombre",this.article.articulo_tipo_nombre),this.formData.delete("articulo_tipo_descripcion"),this.formData.append("articulo_tipo_descripcion",this.article.articulo_tipo_descripcion),this.axios({method:"POST",url:"/categoria",data:this.formData}).then((function(){t.$notify({title:"Registro Exitoso!",message:"La categoría se agregó correctamente!",type:"success"}),t.$store.dispatch("startupEscencial"),t.$store.dispatch("startupAdmin"),t.article={articulo_tipo_id:0,articulo_tipo_nombre:null,articulo_tipo_descripcion:null},t.uploading=!1})).catch((function(e){e.response?(t.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"info"}),console.log(e.response.data.message)):t.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"error"}),t.uploading=!1}))},updateImage:function(t){var e=t.target.files;if(this.formData.delete("articulo_imagen"),e.length){var a,i=Object(s["a"])(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.formData.append("articulo_imagen",o,o.name)}}catch(r){i.e(r)}finally{i.f()}}},eliminar:function(t){var e=this;this.$confirm("Deseas eliminar esta categoria?","Estás Seguro de esto?",{confirmButtonText:"OK",cancelButtonText:"Cancelar",type:"warning"}).then((function(){e.uploading=!0,e.axios({method:"DELETE",url:"/categoria",data:{articulo_tipo_id:t.articulo_tipo_id,articulo_tipo_nombre:t.articulo_tipo_nombre,articulo_tipo_descripcion:t.articulo_tipo_descripcion,articulo_imagen:t.articulo_imagen||"aa"}}).then((function(){e.$notify({title:"Eliinación Exitosa!",message:"La categoria ".concat(t.articulo_tipo_nombre," se eliminó correctamente!"),type:"success"}),e.$store.dispatch("startupEscencial"),e.$store.dispatch("startupAdmin"),e.uploading=!1})).catch((function(t){t.response?(e.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"info"}),console.log(t.response.data.message)):e.$notify({title:"Error",message:"Agunos datos son requeridos o son inválidos",type:"error"}),e.uploading=!1}))})).catch((function(){e.$message({type:"info",message:"Uff... cancelado"})}))}},computed:{getAllCategoria:function(){return this.$store.getters.getAllCategoria}}},l=r,c=a("2877"),n=Object(c["a"])(l,i,o,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d20e87f.483dfb6d.js.map